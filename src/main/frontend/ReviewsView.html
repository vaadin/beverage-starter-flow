<!--
  ~ Copyright 2000-2017 Vaadin Ltd.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License"); you may not
  ~ use this file except in compliance with the License. You may obtain a copy of
  ~ the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  ~ WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
  ~ License for the specific language governing permissions and limitations under
  ~ the License.
  -->

<!-- Dependency resources -->
<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/iron-icon/iron-icon.html">
<link rel="import"
    href="/bower_components/vaadin-icons/vaadin-icons.html"
>

<!-- Defines the reviews-view element -->
<dom-module id="reviews-view">
    <template>
        <style>
            .review-container {
                display: -webkit-box;
                display: -moz-box;
                display: -ms-flexbox;
                display: -moz-flex;
                display: -webkit-flex;
                display: flex;
                border: 1px solid silver;               
                align-items: center;
                -webkit-flex-wrap: wrap;
                flex-wrap: wrap;
                background-color: cornflowerblue;
            }

            .flex-score {
                width: 50px;
            }

            .flex-score[data-score="1"] {
                background-color: slategray;
            }

            .flex-score[data-score="2"] {
                background-color: lightslategray;
            }

            .flex-score[data-score="3"] {
                background-color: gray;
            }

            .flex-score[data-score="4"] {
                background-color: lightgray;
            }

            .flex-score[data-score="5"] {
                background-color: white;
            }

            .flex-name {
                width: 350px;
            }

            .flex-category {
                width: 100px;
            }

            .flex-times {
                width: 150px;
            }

            .flex-date {
                width: 150px;
            }

            .flex-button {
                width: 100px;    
            }
            
            .review-container > div{
                line-height: 50px;
                align-self: baseline;
                text-align: center;
            }
            
            .titlebarbackground{
                background-color: lightgrey;
            }

            .alignright {
                margin-left: auto;
            }

    </style>

    <div class="review-container titlebarbackground">
        <iron-icon icon="vaadin:search"></iron-icon>
        <vaadin-text-field id='filterText'></vaadin-text-field>

        <div class="alignright">
            <vaadin-button id='addReview'></vaadin-button>
        </div>
    </div>

    <paper-toast id='notification'></paper-toast>

    <div class="review-container titlebarbackground">
        <div class="flex-score">SCORE</div>
        <div class="flex-name">BEVERAGE NAME</div>
        <div class="flex-category">CATEGORY</div>
        <div class="flex-times">TIMES TASTED</div>
        <div class="flex-date">LAST TASTED</div>
    </div>

    <template is="dom-repeat" items="{{reviews}}">
        <div class="review-container">
            <div class="flex-score" data-score$="{{item.score}}">{{item.score}}</div>
            <div class="flex-name">{{item.name}}</div>
            <div class="flex-category">{{item.reviewCategory.categoryName}}</div>
            <div class="flex-times">{{item.testTimes}}</div>
            <div class="flex-date">{{item.testDate}}</div>
            <div class="flex-button">
            <vaadin-button on-click='edit'>Edit</vaadin-button>
            </div>
        </div>
    </template>
</template> 

<!-- Polymer boilerplate to register the reviews-view element --> 
    <script>
        class ExampleTemplate extends Polymer.Element {
            static get is() {
                return 'reviews-view'
            }
        }
        customElements.define(ExampleTemplate.is, ExampleTemplate);
    </script>
</dom-module>
